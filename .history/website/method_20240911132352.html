<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Method Details</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <style>
      #wrapper {
        width: 100%;
        text-align: center;
      }

      .header-title {
        margin-top: 20px;
        margin-bottom: 20px;
        text-align: left;
      }

      .recommendation-section {
        padding: 20px;
        border-radius: 5px;
        margin-bottom: 15px;
        text-align: left;
      }

      .high-probability {
        background-color: #d4edda;
        border: 1px solid #c3e6cb;
      }

      .btn-container-wrapper {
        display: flex;
        justify-content: center;
        width: 100%;
      }

      .btn-container {
        position: fixed;
        bottom: 0;
        width: 100%;
        background-color: white;
        padding: 10px 0;
        display: flex;
        justify-content: center;
        border-top: 1px solid #cfcfcf;
        z-index: 1000;
      }

      .btn-container .btn {
        padding: 10px 20px;
        font-size: 16px;
        border-radius: 30px;
        border: 2px solid #007bff;
        background-color: white;
        color: #007bff;
        text-transform: uppercase;
      }

      .btn-container .btn:hover {
        background-color: #e0e0e0;
        color: #007bff;
      }

      .container {
        padding-bottom: 80px; /* to ensure the content does not hide behind the fixed button */
      }

      .accordion-button.collapsed {
        text-decoration: none;
      }

      .accordion-button.collapsed:hover {
        text-decoration: underline;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-white">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">CEDE</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNavAltMarkup"
          aria-controls="navbarNavAltMarkup"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="collapse navbar-collapse justify-content-end"
          id="navbarNavAltMarkup"
        >
          <div class="navbar-nav">
            <a class="nav-link" href="#">Home</a>
            <a class="nav-link" href="#">Matrix Selection</a>
            <a class="nav-link" href="#">FAQs</a>
            <a class="nav-link" href="#">Glossary</a>
          </div>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <div class="container mt-5 px-5">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item">
            <a href="index.html">Matrix Selection</a>
          </li>
          <li class="breadcrumb-item">
            <a href="amplitude.html">Amplitude Normalization</a>
          </li>
          <li class="breadcrumb-item">
            <a href="inttool.html">Interactive Tool</a>
          </li>
          <li class="breadcrumb-item">
            <a href="collectdata.html">Collect Data</a>
          </li>
          <li class="breadcrumb-item">
            <a href="collectdata.html">Amplitude Features</a>
          </li>
          <li class="breadcrumb-item">
            <a href="recommendation.html">Recommendation</a>
          </li>
          <li class="breadcrumb-item active" aria-current="page">
            Method Details
          </li>
        </ol>
      </nav>

      <div class="header-title">
        <h2>Method Details</h2>
        <p id="method-title">
          <!-- Dynamic Title will be inserted here -->
        </p>

        <div class="recommendation-section high-probability">
          <h4>
            <i class="fa fa-check-circle" aria-hidden="true"></i> Yes: High
            probability that this is appropriate
          </h4>
          <div id="why-good-choice">
            <!-- Dynamic content for 'Why is this method a good choice?' will be inserted here -->
          </div>
        </div>

        <div class="accordion" id="methodDetailsAccordion">
          <div class="accordion-item">
            <h2 class="accordion-header" id="headingTwo">
              <button
                class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapseTwo"
                aria-expanded="false"
                aria-controls="collapseTwo"
              >
                What are the caveats? What needs to be considered?
              </button>
            </h2>
            <div
              id="collapseTwo"
              class="accordion-collapse collapse"
              aria-labelledby="headingTwo"
              data-bs-parent="#methodDetailsAccordion"
            >
              <div class="accordion-body" id="what-caveats">
                <!-- Dynamic content for 'What are the caveats?' will be inserted here -->
              </div>
            </div>
          </div>

          <div class="accordion-item">
            <h2 class="accordion-header" id="headingThree">
              <button
                class="accordion-button collapsed"
                type="button"
                data-bs-toggle="collapse"
                data-bs-target="#collapseThree"
                aria-expanded="false"
                aria-controls="collapseThree"
              >
                How should you do it?
              </button>
            </h2>
            <div
              id="collapseThree"
              class="accordion-collapse collapse"
              aria-labelledby="headingThree"
              data-bs-parent="#methodDetailsAccordion"
            >
              <div class="accordion-body" id="how-do-it">
                <!-- Dynamic content for 'How should you do it?' will be inserted here -->
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="btn-container-wrapper">
        <div class="btn-container">
          <button class="btn" onclick="location.href='recommendation.html'">
            Back
          </button>
        </div>
      </div>
    </div>
    <script>
      // Script to dynamically load method details on the methods.html page

      document.addEventListener("DOMContentLoaded", function () {
        const selectedMethod = JSON.parse(
          localStorage.getItem("selectedMethod")
        );

        if (selectedMethod) {
          // Set the method title
          document.getElementById("method-title").innerText =
            selectedMethod.title;

          // Populate the "Why is this method a good choice?" section
          document.getElementById("why-good-choice").innerHTML = `
      <ul>
        <li>MVC provides a meaningful reference â€“ the onset/offset threshold can be interpreted with respect to the maximum capacity of that muscle in that context.</li>
        <li>Because the investigated task and the MVC task are the same, it is more likely that the EMG amplitude represents the true maximum muscle activation that is possible in that context, and the selected threshold will provide a valid reference value for that task.</li>
        <li>The threshold will be the same for all muscles investigated.</li>
        <li>It is likely that the maximum performance is repeatable in separate sessions.</li>
      </ul>`;

          // Populate the "What are the caveats?" section
          document.getElementById("what-caveats").innerHTML = `
      <ul>
        <li>Normalising to MVC during dynamic conditions can be challenging and sometimes shortcuts are taken, for example, this might involve performing MVC in a subset of contexts (but not all). If a subset of tasks is used, it is important to identify this as a potential limitation. Caution if a different level of activation is achieved for different muscles during the attempted MVC. The period of activity of muscles not activated maximally in the MVC task can be overestimated because the threshold would be related to a low amplitude value.</li>
        <li>Depending on how the threshold is set, the period of muscle(s) activity can be overestimated if the threshold is too low or underestimated if the threshold is too high. Setting the threshold depends on the experimental question.</li>
        <li>Care must be taken in selecting the threshold of amplitude to ensure that is meaningful. In other words, there has to be a physiological justification for the amplitude threshold chosen.</li>
      </ul>`;

          // Populate the "How should you do it?" section
          document.getElementById("how-do-it").innerHTML = `
      <ul>
        <li>Conduct between 3-5 contractions that generate consistent values.</li>
        <li>Include adequate rest periods (1-2 minutes) that will depend on the duration of the maximal efforts.</li>
        <li>Match the task as closely as possible.</li>
        <li>Ensure the participant performs a true maximum (e.g., encourage them strongly, consider twitch interpolation [hyperlink with explanation of concept] when possible).</li>
        <li>Calculate the amplitude of the peak [suggest taking the average over a specified time period (e.g., 100-300 ms)] of the EMG trace across repetitions.</li>
      </ul>`;
        }
      });
    </script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://use.fontawesome.com/releases/v5.15.1/js/all.js"></script>
  </body>
</html>
